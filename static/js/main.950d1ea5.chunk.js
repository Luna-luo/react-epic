(this["webpackJsonpreact-epic"]=this["webpackJsonpreact-epic"]||[]).push([[1],{110:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(17),c=n.n(o),u=(n(87),n(14)),i=n(27),l=n(3),s=n(73),p=n.n(s),f=n(15),m=n(112),b=n(61),g=n(69);function y(){var e=Object(u.a)(["\n  margin-left:10px;\n"]);return y=function(){return e},e}function h(){var e=Object(u.a)(["\n  margin-left:auto;\n"]);return h=function(){return e},e}function v(){var e=Object(u.a)(["\n  color:#fff;\n  margin:30px;\n  \n  &.active{\n  border-bottom:1px solid #fff;\n  }\n"]);return v=function(){return e},e}function O(){var e=Object(u.a)(["\n  height:30px;\n"]);return O=function(){return e},e}function d(){var e=Object(u.a)(["\n  display:flex;\n  align-items:center;\n  padding:10px 100px;\n  background-color: #02101f;\n  color: #fff;\n"]);return d=function(){return e},e}var j=f.a.header(d()),w=f.a.img(O()),U=Object(f.a)(i.b)(v()),E=f.a.div(h()),x=Object(f.a)(m.a)(y()),k=Object(g.a)((function(){var e=Object(l.f)(),t=Object(b.a)(),n=t.UserStore,r=t.AuthStore;return a.a.createElement(j,null,a.a.createElement(w,{src:p.a}),a.a.createElement("nav",null,a.a.createElement(U,{to:"/",activeClassName:"active",exact:!0},"\u9996\u9875"),a.a.createElement(U,{to:"/history",activeClassName:"active"},"\u4e0a\u4f20\u5386\u53f2"),a.a.createElement(U,{to:"/about",activeClassName:"active"},"\u5173\u4e8e\u6211")),a.a.createElement(E,null,n.currentUser?a.a.createElement(a.a.Fragment,null,n.currentUser.attributes.username," ",a.a.createElement(x,{type:"primary",onClick:function(){r.logout()}},"\u6ce8\u9500")):a.a.createElement(a.a.Fragment,null,a.a.createElement(x,{type:"primary",onClick:function(){e.push("/login")}},"\u767b\u5f55"),a.a.createElement(x,{type:"primary",onClick:function(){console.log("\u8df3\u8f6c\u5230\u6ce8\u518c\u9875\u9762"),e.push("/register")}},"\u6ce8\u518c"))))}));function P(){var e=Object(u.a)(["\n  padding:10px 100px;\n  text-align: center;\n  color:#aaa;\n  font-size:12px;\n"]);return P=function(){return e},e}var z=f.a.footer(P());var C=function(){return a.a.createElement(z,null,a.a.createElement("p",null,"Footer"))};var D=function(){return a.a.createElement("div",null,"Loading...")},S=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,241))})),F=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,242))})),A=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,243))})),B=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,244))})),I=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,245))}));var N=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(k,null),a.a.createElement("main",null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(D,null)},a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/",exact:!0,component:S}),a.a.createElement(l.a,{path:"/history",component:F}),a.a.createElement(l.a,{path:"/about",exact:!0,component:A}),a.a.createElement(l.a,{path:"/login",exact:!0,component:B}),a.a.createElement(l.a,{path:"/register",exact:!0,component:I})))),a.a.createElement(C,null))};n(18),n(109),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,null,a.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23);n.n(r).a.init({appId:"RV5uwMKHOQ7AWwCacuOe97Ud-gzGzoHsz",appKey:"7Fwpoey5kUh041lud2kYBVD4",serverURL:"https://rv5uwmkh.lc-cn-n1-shared.com"});var a={register:function(e,t){var n=new r.User;return n.setUsername(e),n.setPassword(t),new Promise((function(e,t){n.signUp().then((function(t){return e(t)}),(function(e){return t(e)}))}))},login:function(e,t){return new Promise((function(n,a){r.User.logIn(e,t).then((function(e){return n(e)}),(function(e){return a(e)}))}))},logout:function(){r.User.logOut()},getCurrentUser:function(){return r.User.current()}}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,a,o,c,u=n(0),i=n(41),l=n(42),s=n(43),p=n(11),f=(n(64),n(1)),m=n(18),b=new(r=function(){function e(){Object(l.a)(this,e),Object(i.a)(this,"currentUser",a,this)}return Object(s.a)(e,[{key:"pullUser",value:function(){this.currentUser=m.a.getCurrentUser()}},{key:"resetUser",value:function(){this.currentUser=null}}]),e}(),a=Object(p.a)(r.prototype,"currentUser",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(p.a)(r.prototype,"pullUser",[f.f],Object.getOwnPropertyDescriptor(r.prototype,"pullUser"),r.prototype),Object(p.a)(r.prototype,"resetUser",[f.f],Object.getOwnPropertyDescriptor(r.prototype,"resetUser"),r.prototype),r),g=new(o=function(){function e(){Object(l.a)(this,e),Object(i.a)(this,"values",c,this)}return Object(s.a)(e,[{key:"setUsername",value:function(e){this.values.username=e}},{key:"setPassword",value:function(e){this.values.password=e}},{key:"login",value:function(){var e=this;return new Promise((function(t,n){m.a.login(e.values.username,e.values.password).then((function(e){b.pullUser(),t(e)})).catch((function(e){b.resetUser(),n(e)}))}))}},{key:"register",value:function(){var e=this;return new Promise((function(t,n){m.a.register(e.values.username,e.values.password).then((function(e){b.pullUser(),t(e)})).catch((function(e){b.resetUser(),n(e)}))}))}},{key:"logout",value:function(){m.a.logout(),b.resetUser()}}]),e}(),c=Object(p.a)(o.prototype,"values",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{username:"",password:""}}}),Object(p.a)(o.prototype,"setUsername",[f.f],Object.getOwnPropertyDescriptor(o.prototype,"setUsername"),o.prototype),Object(p.a)(o.prototype,"setPassword",[f.f],Object.getOwnPropertyDescriptor(o.prototype,"setPassword"),o.prototype),Object(p.a)(o.prototype,"login",[f.f],Object.getOwnPropertyDescriptor(o.prototype,"login"),o.prototype),Object(p.a)(o.prototype,"register",[f.f],Object.getOwnPropertyDescriptor(o.prototype,"register"),o.prototype),Object(p.a)(o.prototype,"logout",[f.f],Object.getOwnPropertyDescriptor(o.prototype,"logout"),o.prototype),o),y=Object(u.createContext)({AuthStore:g,UserStore:b});window.stores={AuthStore:g,UserStore:b};var h=function(){return Object(u.useContext)(y)}},73:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},82:function(e,t,n){e.exports=n(110)},87:function(e,t,n){}},[[82,2,3]]]);
//# sourceMappingURL=main.950d1ea5.chunk.js.map